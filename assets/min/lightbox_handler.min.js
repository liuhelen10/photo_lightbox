function LightboxHandler(a){this.$lightbox=a,this.$image=this.$lightbox.getElementsByClassName("lightbox-img")[0],this.$title=this.$lightbox.getElementsByClassName("lightbox-title")[0],this.$chevronLeft=this.$lightbox.getElementsByClassName("chevron-left")[0],this.$chevronRight=this.$lightbox.getElementsByClassName("chevron-right")[0],this.photosArray=[],this.currentPhotoIndex=-1,this.setUpEventListeners()}LightboxHandler.prototype.setUpEventListeners=function(){function c(a){a&&(27===a.keyCode?this.close():this.$lightbox.classList.contains("hide-fully")||(39===a.keyCode?this.showNextPhoto():37===a.keyCode&&this.showPreviousPhoto()))}function d(a){var b="keydown"===a.type,c="click"===a.type,d=b&&27===a.keyCode,e=c&&a.target.getElementsByClassName("modal").length,f=c&&a.target.classList.contains("exit");(d||e||f)&&this.close()}var a=this.$lightbox.getElementsByClassName("left")[0],b=this.$lightbox.getElementsByClassName("right")[0];a.addEventListener("click",this.showPreviousPhoto.bind(this)),b.addEventListener("click",this.showNextPhoto.bind(this)),document.addEventListener("keydown",c.bind(this)),document.addEventListener("click",d.bind(this))},LightboxHandler.prototype.setPhotosArray=function(a){this.photosArray=a},LightboxHandler.prototype.setCurrentPhotoIndex=function(a){this.currentPhotoIndex=a},LightboxHandler.prototype.open=function(a){this.$lightbox.classList.remove("hide-fully"),this.currentPhotoIndex=parseInt(a,10),this.render()},LightboxHandler.prototype.close=function(){this.$lightbox.classList.add("hide-fully"),this.$image.src="",this.$title.innerHTML=""},LightboxHandler.prototype.render=function(){var a=this.photosArray[this.currentPhotoIndex],b=this.currentPhotoIndex===this.photosArray.length-1,c=0===this.currentPhotoIndex;this.$image.src="",this.$image.alt=a.title,this.$title.innerHTML=a.title,this.$image.src=a.full_url,b?this.$chevronRight.classList.add("hide-fully"):this.$chevronRight.classList.remove("hide-fully"),c?this.$chevronLeft.classList.add("hide-fully"):this.$chevronLeft.classList.remove("hide-fully")},LightboxHandler.prototype.showPreviousPhoto=function(){this.currentPhotoIndex>0&&(this.currentPhotoIndex--,this.render(this.photosArray[this.currentPhotoIndex]))},LightboxHandler.prototype.showNextPhoto=function(){this.currentPhotoIndex<this.photosArray.length-1&&(this.currentPhotoIndex++,this.render(this.photosArray[this.currentPhotoIndex]))};
